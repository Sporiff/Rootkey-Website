

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-gb" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en-gb" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Baku Social &mdash; Rootkey 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Thermy" href="2018-10-25-thermy.html" />
    <link rel="prev" title="Baku Social News" href="2019-01-11-baku-social-news.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Rootkey
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../blog/index.html">My Blog</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Technology</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="2019-04-25-matrix-is-here.html">Matrix is Here</a></li>
<li class="toctree-l2"><a class="reference internal" href="2019-02-05-goodbye-guix.html">Goodbye, Guix</a></li>
<li class="toctree-l2"><a class="reference internal" href="2019-02-04-tanuki-tunes-update.html">Tanuki Tunes Update</a></li>
<li class="toctree-l2"><a class="reference internal" href="2019-01-11-baku-social-news.html">Baku Social News</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Baku Social</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#a-rocky-start">A Rocky Start</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-end-result">The End Result</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="2018-10-25-thermy.html">Thermy</a></li>
<li class="toctree-l2"><a class="reference internal" href="2018-10-23-elementary-juno.html">Elementary OS Juno</a></li>
<li class="toctree-l2"><a class="reference internal" href="2018-10-06-apple-drink-cider.html">Apple: Drink the Cider</a></li>
<li class="toctree-l2"><a class="reference internal" href="2018-10-02-personal-matters.html">Personal Matters</a></li>
<li class="toctree-l2"><a class="reference internal" href="2018-10-01-new-site.html">New Site</a></li>
<li class="toctree-l2"><a class="reference internal" href="2018-07-27-deploying-and-controlling-google-chrome-settings-using-microsoft-intune.html">Deploying and Controlling Google Chrome Settings Using Microsoft Intune</a></li>
<li class="toctree-l2"><a class="reference internal" href="2018-07-14-microsoft-teams-deployment-headaches.html">Microsoft Teams Deployment Headaches</a></li>
<li class="toctree-l2"><a class="reference internal" href="2018-06-16-back-to-the-drawing-board.html">Back to the Drawing Board</a></li>
<li class="toctree-l2"><a class="reference internal" href="2018-06-02-some-more-windows-work.html">Some More Windows Work</a></li>
<li class="toctree-l2"><a class="reference internal" href="2018-05-20-getting-on-with-gutenberg.html">Getting on With Gutenberg</a></li>
<li class="toctree-l2"><a class="reference internal" href="2018-05-15-knit-and-perl.html">Knit and Perl</a></li>
<li class="toctree-l2"><a class="reference internal" href="2018-05-14-pgp-problems-promise-pounding-headaches.html">PGP Problems Promise Pounding Headaches</a></li>
<li class="toctree-l2"><a class="reference internal" href="2018-05-13-a-reluctant-return-to-windows.html">A Reluctant Return to Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="2018-05-10-acclimatising-to-new-tech.html">Acclimitising to New Tech</a></li>
<li class="toctree-l2"><a class="reference internal" href="2018-05-09-another-day-another-intel-fail.html">Another Day Another Intel Fail</a></li>
<li class="toctree-l2"><a class="reference internal" href="2018-05-08-uncontrolled-devices-not-even-once.html">Uncontrolled Devices: Not Even Once</a></li>
<li class="toctree-l2"><a class="reference internal" href="2018-05-08-deploying-sophos-in-a-production-environment.html">Deploying Sophos in a Production environment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../music/index.html">Music I’ve Made</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About Me</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact Me</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Rootkey</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Technology</a> &raquo;</li>
        
      <li>Baku Social</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tech/2018-12-22-bakusocial.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="baku-social">
<h1>Baku Social<a class="headerlink" href="#baku-social" title="Permalink to this headline">¶</a></h1>
<p>I’ve been looking for a project recently to teach me some more about various technologies,
specifically public cloud stuff like AWS and container tech like Docker. I have been
looking to get into this stuff for a little while and even previously hosted on of my
blogs on a container OS, but that was shortlived due to too many headaches with Wordpress
containers. For the last few months I had also been looking for a way to replace Spotify -
which I had left behind due to privacy concerns, costs, and library limitations (I listen
to some… weird stuff). So when I heard about <a class="reference external" href="https://funkwhale.audio">Funkwhale</a> I
decided this would be a good opportunity to give the whole Docker/Cloud thing a go.</p>
<div class="section" id="a-rocky-start">
<h2>A Rocky Start<a class="headerlink" href="#a-rocky-start" title="Permalink to this headline">¶</a></h2>
<p>Initially I opted to run the entire setup in AWS with an EC2 server and additional storage
to host media files. This went well to begin with; setting up the server, DNS, and access
to the service was very simple. I ran the site for a couple of days on this setup before
realising that costs would quickly spiral out of hand. While AWS is fantastic for large-scale
applications and deployments, it’s not great for smaller projects with lower specs. The
storage and network costs would quickly grow beyond what I was comfortable spending, and
so I decided to call it a day with EC2 and fall back to my tried and true: Digital Ocean.</p>
<p>I opted originally to run a $40/month VPS with 8GB RAM, 4 cores, and 160GB SSD. This seemed
logical seeing as I was going to be hosting media files on the server. At the time, I had
placed my entire uncompressed library on the server, so it was taking up about 100GB of space
just to host the files. This didn’t bother me too much as the server spec included a lot
of bandwidth as well, so I plowed ahead. I got nginx up-and-running, set Docker up successfully,
and was easily able to listen to music out of the Funkwhale app. Very nice.</p>
<p>But this server is… expensive. And very powerful.</p>
<p>My biggest mistake in this move was picking a high-power VPS for its disk size rather than more
sensibly choosing a less powerful machine and attaching an additional disk to it. As such I was
now stuck with a whole lot of server hosting, well, my music library and nothing else. I didn’t
really have the room to add more music in future, and the server was too powerful to just have
one Docker container running on it.</p>
<p>My solution? Find another project of course! I have been a longtime user of <a class="reference external" href="https://joinmastodon.org">Mastodon</a>,
having moved away from sites like Twitter and Tumblr a while back due to toxicity and privacy concerns (again).
While I was happy enough using <a class="reference external" href="https://fosstodon.org">Fosstodon</a> and <a class="reference external" href="https://mastodon.technology">Mastodon.technology</a>
before, I was keen to start my own instance dedicated to Japanese mythology (my first true love). With the idea in mind,
I looked up the guides and - after a few teething issues - had an instance running successfully.</p>
<p>Around this time I decided that I probably needed to downsize everything. The server was still too
powerful and I had been stupid in my allocation of storage. So I decided to spin up a smaller VPS
with half the power and a 100GB dedicated drive, compress all of my music, and migrate the whole
thing over. After a brief conversation with the Funkwhale dev I was able to get the media root changed
and have all music switched over to the external drive. Bonza.</p>
</div>
<div class="section" id="the-end-result">
<h2>The End Result<a class="headerlink" href="#the-end-result" title="Permalink to this headline">¶</a></h2>
<p>The two federated instances are now successfully up-and-running. The Mastodon instance is
<a class="reference external" href="https://bakusocial.com/about">Baku Social</a> and the Funkwhale is <a class="reference external" href="https://tanukitunes.com/about">Tanuki Tunes</a>.
I’m still monitoring the server, S3 storage, and general performance to see if the setup I’ve chosen is right,
but so far I’m not seeing any particular issues coming up. All seems to be smooth sailing. I guess my big challenge
will be managing upgrades and downtime, but I’m yet to experience migrating to a new release.</p>
<p>These two projects are currently being managed, hosted, and paid for entirely by me. I don’t mind
this too much as I’m currently the only one using the services so they’re basically just my personal
playing ground. However, I have also set up a <a class="reference external" href="https://patreon.com/CiaranAinsworth">Patreon</a> and a
<a class="reference external" href="https://liberapay.com/CiaranAinsworth">Liberapay</a> to help cover costs should other people want to
make use of the services.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="2018-10-25-thermy.html" class="btn btn-neutral float-right" title="Thermy" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="2019-01-11-baku-social-news.html" class="btn btn-neutral float-left" title="Baku Social News" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Ciarán Ainsworth

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>